/*! matrix v0.4.0 | MIT | https://github.com/hd-code/web-snippets */
function isMatrix(e){var n;if(!(e instanceof Array))return!1;if(0===e.length)return!0;var r=null==(n=e[0])?void 0:n.length;if(void 0===r)return!1;for(let n=0,t=e.length;n<t;n++){var o=e[n];if(!(o instanceof Array)||r!==o.length)return!1;for(let n=0,t=o.length;n<t;n++)if("number"!=typeof o[n])return!1}return!0}function flatten(e){const r=[];for(let n=0,t=e.length;n<t;n++){var o=e[n];for(let n=0,t=o.length;n<t;n++)r.push(o[n])}return r}function transpose(e){var n;return null!=(n=null==(n=e[0])?void 0:n.map((n,t)=>e.map(n=>n[t])))?n:[]}function add(e,r){return hasSameDimensions(e,r)?e.map((n,t)=>vector.add(e[t],r[t])):[]}function sub(e,r){return hasSameDimensions(e,r)?e.map((n,t)=>vector.sub(e[t],r[t])):[]}function mul(e,r){return hasSameDimensions(e,r)?e.map((n,t)=>vector.mul(e[t],r[t])):[]}function div(e,r){return hasSameDimensions(e,r)?e.map((n,t)=>vector.div(e[t],r[t])):[]}function scale(t,n){return n.map(n=>vector.scale(t,n))}function mulVector(e,r){const o=[];for(let n=0,t=e.length;n<t;n++){var u=e[n];if(u.length!==r.length)return[];o.push(vector.dot(u,r))}return o}function dot(e,n){var r=n.length;for(let n=0,t=e.length;n<t;n++)if(e[n].length!=r)return[];const o=transpose(n);return e.map(t=>o.map(n=>vector.dot(t,n)))}function hasSameDimensions(e,r){if(e.length!==r.length)return!1;for(let n=0,t=e.length;n<t;n++)if(e[n].length!==r[n].length)return!1;return!0}var vector;!function(n){n.add=function(e,r){if(e.length!==r.length)return[];const o=[];for(let n=0,t=e.length;n<t;n++)o.push(e[n]+r[n]);return o},n.sub=function(e,r){if(e.length!==r.length)return[];const o=[];for(let n=0,t=e.length;n<t;n++)o.push(e[n]-r[n]);return o},n.mul=function(e,r){return e.length!==r.length?[]:e.map((n,t)=>e[t]*r[t])},n.div=function(e,r){return e.length!==r.length?[]:e.map((n,t)=>e[t]/r[t])},n.scale=function(t,n){return n.map(n=>t*n)},n.dot=function(e,r){if(e.length!==r.length||0===e.length||0===r.length)return NaN;let o=0;for(let n=0,t=e.length;n<t;n++)o+=e[n]*r[n];return o}}(vector=vector||{});export{isMatrix,flatten,transpose,add,sub,mul,div,scale,mulVector,dot};