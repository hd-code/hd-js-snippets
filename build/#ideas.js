"use strict";var __awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(u,i){function o(e){try{a(r.next(e))}catch(e){i(e)}}function s(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?u(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}a((r=r.apply(e,t||[])).next())})};function sleep(e){return __awaiter(this,void 0,void 0,function*(){return new Promise(t=>setTimeout(t,e))})}function toCSV(e,t){let n="";t||(n+=getHeader(e[0]));for(let t=0,r=e.length;t<r;t++)n+=getData(e[t]);return n.slice(0,-1)}function getHeader(e){return toCSVLine(Object.keys(e))}function getData(e){return toCSVLine(Object.values(e))}function toCSVLine(e){let t="";for(let n=0,r=e.length;n<r;n++)t+=escape(""+e[n])+",";return t.slice(0,-1)+"\n"}function escape(e){return hasToBeEscaped(e)?'"'+e.replace(/"/g,'""')+'"':e}function hasToBeEscaped(e){return e.includes(",")||e.includes('"')}function extractValues(e){let t=e,n=[];for(;t.length>=1;){const e=extractNextValue(t);n.push(e.value),t=e.rest}return n}function extractNextValue(e){if('"'===e[0]){let t=e.indexOf('"',1);for(;'"'===e[t+1];)t=e.indexOf('"',t+2);let n=e.substring(1,t);return{value:n=n.replace(/""/g,'"'),rest:e.substring(t+2)}}let t=e.indexOf(",");return-1===t&&(t=e.length),{value:e.substring(0,t),rest:e.substring(t+1)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toCSV=exports.sleep=void 0,exports.sleep=sleep,exports.toCSV=toCSV;